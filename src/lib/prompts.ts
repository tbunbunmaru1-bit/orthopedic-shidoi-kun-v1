export function getMaterialPrompt(surgeryName: string): string {
  return `あなたは整形外科の専門医教育の第一人者です。以下の手術について、整形外科専門医が認めるレベルの包括的な学習資料を日本語で作成してください。

手術名: ${surgeryName}

以下の構成で、エビデンスに基づいた詳細な資料を作成してください。Markdownフォーマットで出力してください。

---

# ${surgeryName} 完全ガイド

## 1. 概要・疾患背景
- 手術の定義と目的
- 適応疾患・病態
- 疫学・有病率

## 2. 解剖学的ポイント
- 手術に関連する重要解剖
- 神経・血管・筋肉の走行
- 解剖学的バリエーション
- 手術アプローチ別の解剖

## 3. 手術適応・禁忌
### 適応
- 適応基準（臨床・画像所見）
- 保存療法との比較
- 年齢・活動性による考慮点

### 禁忌
- 絶対的禁忌
- 相対的禁忌

## 4. 術前評価・計画
- 必要な問診・身体診察
- 画像評価（X線・MRI・CT）
- 血液検査・術前評価
- インプラントサイジング・テンプレーティング
- 患者への説明・インフォームドコンセント

## 5. 手術手技（ステップバイステップ）
### 術前準備
- 体位・麻酔
- 使用器具・インプラント

### 手術ステップ
（各ステップを詳細に、手術のポイントと注意点を含めて記載）

### 重要な術中ポイント
- 手術の要点
- よくある落とし穴と対策

## 6. 使用器具・インプラント
- 必要な器具リスト
- インプラントの種類と選択基準
- 最新デバイスのトレンド

## 7. 合併症とその対処
### 術中合併症
- 各合併症の原因・予防・対処

### 術後合併症
- 早期合併症（感染、血栓、神経損傷など）
- 晩期合併症（インプラント関連など）

## 8. 術後管理・リハビリテーション
- 術直後の管理
- リハビリプロトコル（段階的な荷重・可動域訓練）
- 退院基準
- 外来フォローアップ

## 9. 成績・アウトカム
- 短期・長期成績
- 患者立脚型評価指標（PROMs）
- 手術成功の定義

## 10. 最新エビデンス・トレンド
- 関連する主要な臨床研究・RCT
- 最新のガイドライン
- 今後の展望

## 11. 専門医のClinical Pearl（臨床の秘訣）
- 経験豊富な術者が強調するポイント
- 手術精度向上のためのティップス
- 難症例への対応

## 参考文献
（主要な教科書・ガイドライン・論文を記載）

---

専門医レベルの内容で、実際の臨床で役立つ具体的な情報を含めてください。解剖学的な正確さ、手技の詳細さ、最新のエビデンスに基づいた情報を提供してください。`;
}

export function getSlidePrompt(surgeryName: string, content: string): string {
  return `以下の手術学習資料をMarp形式のMarkdownスライドに変換してください。

手術名: ${surgeryName}

元の資料:
${content}

---

以下のMarp形式で、視覚的に見やすいスライドを作成してください：

- 1スライドに入れる情報は簡潔に（箇条書き5-7項目以内）
- 重要なポイントは太字または強調
- 各スライドには明確なタイトル
- 解剖・手技の重要ポイントは図表的なテキスト表現を使用
- 専門用語は正確に使用
- スライド数は20-30枚程度

Marp形式の例：
\`\`\`
---
marp: true
theme: default
paginate: true
---

# スライドタイトル

内容

---

# 次のスライド
\`\`\`

完全なMarpスライドを出力してください。`;
}

export function getQuizPrompt(surgeryName: string, content: string): string {
  return `以下の手術学習資料に基づいて、整形外科専門医試験レベルの4択問題を20問作成してください。

手術名: ${surgeryName}

学習資料:
${content}

以下のJSON形式で出力してください：

{
  "questions": [
    {
      "id": "1",
      "question": "問題文",
      "options": ["選択肢A", "選択肢B", "選択肢C", "選択肢D"],
      "answer": 0,
      "explanation": "解説文（なぜその答えが正しいか、他の選択肢がなぜ違うかを含む）",
      "category": "解剖学|手術適応|手術手技|合併症|術後管理|アウトカム"
    }
  ]
}

要件：
- 解剖学、手術適応、手術手技、合併症、術後管理、アウトカムから幅広く出題
- 選択肢は紛らわしいが正確な内容で
- 解説は詳しく、なぜ正解かを説明
- 専門医試験レベルの難易度
- answerは0-3のインデックス（0=A、1=B、2=C、3=D）
- JSONのみを出力（コードブロックなし）`;
}
